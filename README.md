# R4C - Robots for consumers

## Что делает данный код?
Это заготовка для сервиса, который ведет учет произведенных роботов,а также 
выполняет некие операции связанные с этим процессом.

Сервис нацелен на удовлетворение потребностей трёх категорий пользователей:
- Технические специалисты компании. Они будут присылать информацию
- Менеджмент компании. Они будут запрашивать информацию
- Клиенты. Им будут отправляться информация

## Основные роли
В данном Django проекте определены три основные роли: администратор, технический специалист и директор. Каждая роль имеет свой функционал и доступ к определенным возможностям системы.
* Администратор: имеет доступ к функционалу для заполнения товаров магазина. Это означает, что администратор может добавлять, редактировать и удалять товары из магазина.
* Технический специалист: имеет токен доступа для API, с помощью которого можно загружать информацию о новых произведенных роботах. Это означает, что технический специалист может загружать информацию о новых роботах в систему.
* Директор: имеет функционал для получения отчетов о произведенных роботах за определенный период времени. Это означает, что директор может получать отчеты о произведенных роботах за определенный период времени.

Для того, чтобы пользователь получил роль, ему необходимо отправить заявку. Эту заявку будет рассматривать суперпользователь. Если суперпользователь подтвердит заявку, то пользователю на почту придут реквизиты для получения доступа к функционалу. Таким образом, доступ к функционалу системы предоставляется только после подтверждения заявки суперпользователем.

Все пользователи (даже неавторизованные) могут оставлять заявки на роботов, которых нет в наличии.

## Даталогические модели

### Реализованная даталогическая модель
На текущий момент с учетом ТЗ разаработана следующая структура базы данных:
![now](https://github.com/maloi56/robots-test/blob/master/now.png)

Данная база данных состоит из нескольких таблиц, которые связаны между собой. 
 - "Users" и "RegistrationRequest" содержат информацию о пользователях и запросах на регистрацию. 
 - "Robot" содержит журнал произведенных роботов. 
 - "Warehouse" содержит информацию о  произведенных роботах. 
 - "Product" содержит информацию о роботах, которые выставлены в магазин.
 - "Order" содержит информацию о заявках на робота, которого нет в наличии. 
 - "Customer" содержит информацию о клиентах. 


Эта модель не совсем корректаная и требует доработки, в случае, если мы захотим давать пользователям возможность добавлять товары в корзину и оформлять заказ, то можно реализовать следущую модель:

### Даталогическая модель после доработки
![after](https://github.com/maloi56/robots-test/blob/master/after.png)

Рассматриваемая модель не содержит таблицу "Customer", т.к. мы добавим новую роль "Покупатель" к таблице "Users", т.е. добавим возможность пользователям регистрироваться на платформе.

Добавим новые таблицы:
- "Basket" содержит элементы корзины пользователя.
- "Sale" содержит заказы пользователей, каждый заказ содержит множество элементов элементов таблицы "Basket". После создания записи, все элементы пользователя внутри таблицы "Basket" очищаются

## Запуск проекта

1. Склонируйте репозиторий: `git clone https://github.com/maloi56/robot-test.git`
2. Установите зависимости: `pip install -r requirements.txt`
3. Запустите Redis: `redis-server`
4. Запустите Celery: `celery -A R4C worker -l info`
5. Выполните миграции: `python manage.py migrate`
6. Запустите сервер: `python manage.py runserver`

## Технологический Стек

[![Python](https://img.shields.io/badge/Python-3.11-blue.svg)](https://www.python.org/)
[![Django](https://img.shields.io/badge/Django-4.2.5-green.svg)](https://www.djangoproject.com/)
[![Django REST Framework](https://img.shields.io/badge/Django%20REST%20Framework-3.14-orange.svg)](https://www.django-rest-framework.org/)
[![Redis](https://img.shields.io/badge/Redis-7.2-red.svg)](https://redis.io/)
[![Celery](https://img.shields.io/badge/Celery-5.3.1-yellowgreen.svg)](https://docs.celeryproject.org/)
